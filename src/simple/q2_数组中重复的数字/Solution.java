package simple.q2_æ•°ç»„ä¸­é‡å¤çš„æ•°å­—;

/**
 * æˆ‘çš„æ€è·¯ï¼š
 * é¢˜ç›®æœ‰ç‚¹å°é—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰é‡å¤çš„è¿”å›å•¥ï¼Ÿè¿™é‡Œæš‚æ—¶è¿”å›-1ï¼›
 * 1. æœ€å…ˆæ€è·¯è‚¯å®šå°±æ˜¯ä¸€ä¸ªHashSetï¼Œç„¶åä¸æ–­çš„å¾€é‡Œé¢å¡å’Œåˆ¤æ–­ï¼Œè¿™æ ·å°±æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼ˆç›´æ¥çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼šæ’åºï¼Œå¾ªç¯å»åˆ¤æ–­ç­‰ï¼‰
 * 2. åé¢æƒ³èµ·äº†äº¦æˆ–æ¥åšï¼Œä½†æ˜¯äº¦æˆ–å…¶å®ä¸æ˜¯è¿™ä¸ªåœºæ™¯çš„ï¼Œæƒ³é”™äº†ã€‚
 * 3. æƒ³ä¸å‡ºä»€ä¹ˆå¯ä»¥ç©ºé—´å¤æ‚åº¦O(1) æ—¶é—´å¤æ‚åº¦è¿˜ä¸ºO(n)çš„äº†ï¼Œäºæ˜¯ä½¿ç”¨bitmapç¨å¾®é™ä½ä¸€ä¸‹ç©ºé—´å¤æ‚åº¦ï¼ˆä½†æ˜¯å¦‚æœæ•°å­—å¾ˆå¤šï¼Œé‡å¤æ•°å­—åˆå¾ˆé å‰ï¼Œé‚£ä¹ˆç”³è¯·bitmapçš„å†…å­˜å¯èƒ½å¤§äºhashSetçš„å†…å­˜ï¼‰
 * <p>
 * é¢˜è§£ï¼š
 * é•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†… (!!!! æˆ‘çœ‹æ¼äº†è¿™æœ€å…³é”®çš„ä¿¡æ¯ï¼Œè¿™æ ·O(1)å’ŒO(n)å°±å¥½æ‰¾äº†)
 * ä¹Ÿå°±æ˜¯è‡ªèº«æ•°ç»„å°±å¯ä»¥å½“åšé‚£ä¸ªbitmapï¼Œåªè¦é‡åˆ°ä¸åœ¨è‡ªå·±ç´¢å¼•ä½ç½®çš„åœ°æ–¹åšäº¤æ¢å’Œæ¯”è¾ƒå°±è¡Œäº†ã€‚
 */
class Solution {

    /**
     * mine
     */
    public static int findRepeatNumber(int[] nums) {
        byte[] bitmap = new byte[nums.length];
        for (int num : nums) {
            byte b = bitmap[num];
            if (b == (byte) 1) {
                return b;
            } else {
                bitmap[num] = (byte) 1;
            }
        }
        return -1;
    }

    /**
     * network
     * å¥½ç©çš„æ˜¯ï¼Œè¿™ä¸ªæ‰§è¡Œæ—¶é—´å’Œå†…å­˜æ¶ˆè€—æ¯”ä¸Šé¢çš„é‚£ä¸ªå¤§ ğŸ˜‚
     */
    public int findRepeatNumber2(int[] nums) {
        for (int index = 0; index < nums.length; index++) {
            int num = nums[index];
            if (nums[num] == num && index != num) {
                return num;
            } else {
                int tmp = nums[num];
                nums[num] = num;
                nums[index] = tmp;
            }
        }
        return -1;
    }

}